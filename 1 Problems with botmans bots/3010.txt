--------------------------------------------------
Subject: hlds_l 3.109rc1 + HPB_bot 2.0 = Server Crash
--------------------------------------------------
04/21/02 at 06:55:19  Posted by: al-Samarqandi (hsamarqa@abutalib.indysla.iupui.edu)
--------------------------------------------------
Gang:

Pulled down the hlds_l 3.109 release candidate this AM. with 3.108perf, Metamod 1.12, Admin Mod 2.50.26 and the localinfo to fire up the botties, they were happly running around doing their thing. When I upgraded to the Release candidate, BOOM!

From my HalfD trace:

GNU gdb 19991004
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i386-redhat-linux"...
Core was generated by `./hlds_run -game tfc -port 27015 +maxplayers 16 +map hunt
ed +exec autoexec.cfg'.
Program terminated with signal 11, Segmentation fault.
Reading symbols from /lib/libNoVersion.so.1...done.
Reading symbols from /lib/libdl.so.2...done.
Reading symbols from /lib/libc.so.6...done.
Reading symbols from /lib/ld-linux.so.2...done.
Reading symbols from /usr/local/games/hlds_l/engine_i386.so...done.
Reading symbols from /usr/local/games/hlds_l/libhlwon.so...done.
Reading symbols from /lib/libm.so.6...done.
Reading symbols from /lib/libnss_files.so.2...done.
Reading symbols from /lib/libnss_nisplus.so.2...done.
Reading symbols from /lib/libnsl.so.1...done.
Reading symbols from /lib/libnss_nis.so.2...done.
Reading symbols from /lib/libnss_dns.so.2...done.
Reading symbols from /lib/libresolv.so.2...done.
Reading symbols from /usr/local/games/halflife/hlds_l/tfc/dlls/metamod_i386.so..
.done.
Reading symbols from /usr/local/games/hlds_l/tfc/dlls/HPB_bot_i486.so..
.done.
Reading symbols from /usr/local/games/hlds_l/tfc/dlls/tfc_i386.so...
done.
Reading symbols from /usr/local/games/hlds_l/tfc/dlls/admin_MM_i386.so.
..done.
Reading symbols from /lib/libcrypt.so.1...done.
Reading symbols from /usr/local/games/hlds_l/tfc/dlls/amx_admin.so...
done.
#0  0x0 in ?? ()
(gdb) bt
#0  0x0 in ?? ()
#1  0x431be800 in CTeamFortress::InitHUD ()
   from /usr/local/games/hlds_l/tfc/dlls/tfc_i386.so
#2  0x4319ec1d in CBasePlayer::UpdateClientData ()
   from /usr/local/games/hlds_l/tfc/dlls/tfc_i386.so
#3  0x4319b227 in CBasePlayer::PreThink ()
   from /usr/local/games/hlds_l/tfc/dlls/tfc_i386.so
#4  0x43157a7b in PlayerPreThink ()
   from /usr/local/games/hlds_l/tfc/dlls/tfc_i386.so
#5  0x430858fe in PlayerPreThink ()
   from /usr/local/games/hlds_l/tfc/dlls/HPB_bot_i486.so
#6  0x42ed4056 in mm_PlayerPreThink ()
   from /usr/local/games/hlds_l/tfc/dlls/metamod_i386.so
(gdb) quit

Thoughts?

"Insane" Husayn





--------------------------------------------------
04/21/02 at 09:23:35  Reply by: botman (botman@planethalflife.com)
--------------------------------------------------
I'll download the Win32 and Linux beta update and take a look at it to see why it's crashing.

botman

--------------------------------------------------
04/21/02 at 14:20:43  Reply by: botman (botman@planethalflife.com)
--------------------------------------------------
After some investigation, it appears that the HPB bot 2.0 release works fine with the Win32 and Linux x.1.0.9 servers.

But when you run bots with metamod and x.1.0.9, metamod causes a core dump on the Linux 3109 dedicated server.  I assume Win32 will have similar problems with metamod (1.11.2) but I haven't tried this out to see.

I've notified Will Day (at metamod) about this problem and prehaps he can release a new version of metamod in the next few days.

For now, either run metamod without bots or run bots without metamod (and AdminMOD), but don't run both at once (until a new release of metamod is available).

botman

--------------------------------------------------
04/22/02 at 09:49:11  Reply by: irrupt (ray@mail.ldproxy.com)
--------------------------------------------------
Where did you find the hlds update?
I run SlackWare and would like to give it a try..

might make a difference <?>

               Ray

--------------------------------------------------
04/22/02 at 10:48:24  Reply by: botman (botman@planethalflife.com)
--------------------------------------------------
See the dedicated server section in the forums on www.steampowered.com

Look for the post by Leon Hartwig on the Linux Steam RC1 download.  It has the ftp site, username and password.

Will has released a beta version of metamod with the bug fixed and will hopefully be updating the metamod website in a day or two.

botman

