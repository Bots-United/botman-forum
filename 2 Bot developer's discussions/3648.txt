--------------------------------------------------
Subject: Markov models-based bot chat systems
--------------------------------------------------
09/01/02 at 07:20:37  Posted by: PM (pm@racc-ai.com)
--------------------------------------------------
OK.

I've succeeded implementing the MegaHAL technology, which I believe is the next step in conversation simulator systems, in my RACC bot code. It's about inferring a "brain" that keeps the state of the Markov model trees used in learning the language. The language learning is about statistical analysis at word-level, building of dictionaries and selection of keywords.

Practically, what it does.
You chat with your bot just like an IRC session. At first the bot does not know much of the language, if any at all, so you will be given stupid replies. After some learning, the bot will be able to build grammatically correct sentences, that make sense according to the topic of the chat. The learning can be long, but you can learn it almost any language, provided it is based on conceptual words. And foremost, it can mimic your own style of talking, and will probably do.

Not to say that I'm again advertising my own bot.
The purpose of this post is to provide people who are interested in this technology with an example of working source code adapted for the use in real-time FPS games. I hacked the MegaHAL techno a bit to speed it up enough. Unfortunately it's still based on a lot of malloc's and realloc's. Try it and hack it to suit your needs.

I'm posting a demo on my site here, with the source code.

http://www.racc-ai.com/racc-hal.exe


[modified on 09/01/02 at 07:20:37]
--------------------------------------------------
08/31/02 at 08:57:02  Reply by: Cheesemonster!!! (paul.murphy@ntlworld.com)
--------------------------------------------------
nice :)

--------------------------------------------------
08/31/02 at 11:25:42  Reply by: @$3.1415rin (joebot@botepidemic.com)
--------------------------------------------------
I also thought about implementing somewhat like this ... did you do a complete rewrite or did you use the original code from megagal ? the download link isnt working, therefore i'm asking here :)

and did you find the reason why your first experiences with MegaHAL weren't so promising ? what was wrong ? I remember you wrote something like : "I was teaching the stupid bots for hours and they dont improve"

--------------------------------------------------
09/01/02 at 07:14:57  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
The link works now, there was a problem with my server but now it is fixed.

@ Johannes, actually I think there were 2 reasons why my first attempts weren't promising at all. First, there was a function in the MegaHAL code which purpose was to evaluate the reply generated by the system according to a surprise factor basis. In fact, MegaHAL was given the time to build about several hundreds of replies, and it was selecting the one that had the most probability of being surprising for the reader. However that algo was very bad designed IMO, and most of the time didn't work good at all, and the replies that were selected were not that much related to the topic, if any at all. There were 2 disadvantages, first it was f*cking slow, and second it was inaccurate, because the evaluation of the surprise was based on a comparison of keywords dictionaries, globally it was about : if the reply contains BOTH keywords that are in the dictionary of the topic of the chat AND keywords that are in a totally different dictionary, then it is likely to be surprising ; and the more different the dictionary, the more surprise it should have carried. I just got rid of this function, and I simplified the algo so that MegaHAL generates only one reply when it is for replying to an affirmation, and as much replies as needed when it is about answering a question, until the dictionaries are different enough for avoiding paraphrazing the question itself. It is fast enough, and nearly as efficient as before.

And secondly, I think I had overestimated the learning capacity of the system. Actually you have to feed it a HUGE amount of sentences for it to learn well enough (i.e. tweak it's Markov model branches according to the probabilities it encounters about as much words as possible). Anyway, I did an experiment, and here you're gonna laugh.

I took venerable botman's HPB bot template readme text file, and I arranged it to make one sentence per line. I got rid of the non-standard characters, and then I got a (quite long) training text for my bot. I fed it with that, for it to train itself starting with an empty brain. OMG, when I started talking to it after that, I thought I was just having IRC with the botman himself ! I almost wet my pants when I saw the bot starting to explain me the undergrounds of the Half-Life engine, the network packets, the purpose of pfnRunPlayerMove and tons of things like that.

Results of experiment : success.

Then, I grabbed from some stats site quite a few log files from some CS servers. I got rid of the useless crap, spam and I left only the chat lines that real players did say. When I got enough of them, I renewed the experiment and, damn, that was quite convincing. And the more I talked to it, the more relevant it became.

Really I had great fun.


--------------------------------------------------
09/01/02 at 09:20:09  Reply by: zenureo (startux@hotmail.com)
--------------------------------------------------
OMG... Pierre, why don't u write it into a library so that we can use it in other apps to fool ppl... heheheh *evil grin*

--------------------------------------------------
09/01/02 at 09:45:21  Reply by: zenureo (startux@hotmail.com)
--------------------------------------------------
I tried d/l the megahal thingy for a test drive.
The win95 exe managed to run on my win2K but i think the .brn file does not come with it and all the commands does not work. So much for megaHal...

--------------------------------------------------
09/01/02 at 10:03:29  Reply by: BrianL (halfkiller@hotmail.com)
--------------------------------------------------
For some reason I can't get your bot it don't wanna find your site send this to my email:
 bjl667@sbcglobal.net it'll let you send 4 megs - 6 meg files to my email :-D

--------------------------------------------------
09/01/02 at 13:32:49  Reply by: Extrarius (cprgmsw@rietta.com)
--------------------------------------------------
Sounds awesome, but unfortunately I can't reach your server. Comes up "Not Found" every time =-(

If you need another challenge, try learning maclisp, translating http://hci.stanford.edu/~winograd/shrdlu/ to C++, and making your bots understand commands and requests =-)

--------------------------------------------------
09/02/02 at 08:54:33  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
hmm that's odd
Several people already told me they had difficulties to reach my site. Most of the time they go through AOL's routers.
If you use AOL as your ISP, it won't work ; I don't know why their DNS servers didn't update with my server's IP.
I guess I'd better ask my registrar if he did update his WhoIs correctly, else I don't know why some DNS servers can't cope with racc-ai.com.
@people having problems : try to ping www.racc-ai.com, and www.teltia.net, and could you tell me the results (and the IPs you use for DNS ?)

Else try to use this alternate address instead of www.racc-ai.com : racc-ai.com.sites.web0.teltia.net

so the url becames :
http://racc-ai.com.sites.web0.teltia.net/racc-hal.exe

if all else fails


--------------------------------------------------
09/02/02 at 09:15:08  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
QUOTE:
I tried d/l the megahal thingy for a test drive.
The win95 exe managed to run on my win2K but i think the .brn file does not come with it and all the commands does not work. So much for megaHal...




Yes, you have to download both the C file, the header file, and one of the .brn files that are on the site to make a running distribution. Else you get an empty brain that you must teach a long time before it starts to build interesting sentences.
BTW, the commands in the genuine MegaHAL start with a "#" and are in capital letters, so #SAVE, #QUIT, etc.


--------------------------------------------------
09/02/02 at 13:56:41  Reply by: BrianL (halfkiller@hotmail.com)
--------------------------------------------------
I'm not with AOL and never will go with them ROFL.  I'm with SBC Global (Swbell)

But thanx for the new link :-D

[modified on 09/02/02 at 13:56:41]
--------------------------------------------------
09/02/02 at 15:04:41  Reply by: Multch (13steps@naplesnews.net)
--------------------------------------------------
Well since BrianL made this a top post & i don't like to disturb the developers.. THX Pierre-Marie Baty!! I was just playing some CS & it's hillarious that the bots say the "i guess ambient" things.. THX Dood! I for 1 am just waiting for your next release.. :-)

Seems at the moment you & JoeBot are the most stable for CS. THX Guys!!!
I won't post here agian.. But i just couldn't resist.. THX Developer's!! Cuz i'm sure i've used your bot or launcher or proggie..

--------------------------------------------------
09/03/02 at 09:05:29  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
QUOTE:
If you need another challenge, try learning maclisp, translating http://hci.stanford.edu/~winograd/shrdlu/ to C++, and making your bots understand commands and requests =-)




Oh My God !!!!!!!
That thing is really impressive !
Why the f... isn't it known at all ? Why the f... did they let it rott in an old programming language so that it's not runnable nowadays ? Why the f... isn't there more documentation than this ? Just a man page for running the lisp listing, that doesn't even explain the routines ! Oh my god !

I imagine bots running this algo.
Cubes on the table = entities in the game
Arm of the robot = navigation code
Hand of the robot = weapon code
As simple as that !

That would be awesome ! Nah, that would be ZE ultimate bot !! able to understand the goals of the game, able to learn the rules, able to change its mind... but that's a hell of a challenge, still. Is there a living guru from the seventies that still understand MacLisp ? Hey ! Overhere !

Where's that f%cking smiley with the astounded guy with the big eyes ? what ? doesn't exist in botman's forums ? crap !

oh my god ! Seems like I'll sleep late for quite a few nights.


--------------------------------------------------
09/04/02 at 03:51:21  Reply by: @$3.1415rin (joebot@botepidemic.com)
--------------------------------------------------
is the code btw a adaptation of the megahal code or did you completely rewrite it on your own based on the theoretical papers ?

when I look at the code, C++ would have been pretty useful in this case I think :)

--------------------------------------------------
09/04/02 at 13:31:37  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
it's an adaptation of the MegaHAL code, I didn't want to reinvent the wheel... I just cleaned one or two things up, and rewrote the algo for generating the replies and implemented the possibility of having five simultaneous 'protagonists' brains the user can talk to differently each (I made a quick algo for determining the language of the user's input, and I compare its words with the five brain's word dictionaries, to find which brain is likely to be concerned by the sentence, just like if you had IRC with Jim who speaks English and Gaetano who speaks Italian, and you would speak alternatively english and italian on the same channel when speaking to one of them specifically, and only the right person would reply when this person does feel concerned by your inputs).

I think that's all :)

Oh btw, if you want to rewrite it in C++, go for it, I know you love that ;)

btw, did you had an eye on the SHRDLU thingy ? If not, I urge you to, it's simply amazing. I am thinking of an understanding system for our bots, which objects of comprehension would be the entities in the game, since this is, after all, a fairly simple world our bots play in. We could, for example, teach our bots live during the game by chatting to them ; I imagine the bot, knowing only a few basic definitions in his semantic dictionary :

ENEMY : kill.
FRIENDLY : protect.
KILL : fire at pev->pContainingEntity.
PROTECT : fire at pev->dmg_Inflictor.

Imagine !

BOT - Hey ! I'm a bot ! I don't know how to play that game ! Will someone teach me ?
USER - OK, I'll teach you, listen.
(keywords : teach, listen)
BOT - Go for it.
USER - You are a Terrorist. Everyone who is a Terrorist is your friend.
BOT - What's a Terrorist ?
USER - A Terrorist is an entity which model is one of the following : arctic, guerilla, leet, terror.
BOT - I understand.
(the bot looks up in his semantic dictionary and knows it has to team with and protect us)
USER - Enemies are Counter-Terrorists. Everyone who is a Counter-Terrorist is your enemy.
BOT - What's a Counter-Terrorist ?
USER - A Counter-Terrorist is an entity which model is one of the following : urban, gign, sas, gsg9, vip.
BOT - I understand.
(the bot looks up in his semantic dictionary and knows it has to fire at the guys in blue.)
USER - The goal of the map for the Terrorists is to plant the bomb. The goal of the map for the Counter-Terrorists is to defuse any bomb.
(keywords : goal, map. The bot will save that goal in its knowledge database associated with the name of the map being played)
BOT - What's a bomb ?
USER - A bomb for a Terrorist is a weapon being bitmasked as CS_WEAPON_C4 or an entity which model is the following : w_backpack. A bomb for a Counter-Terrorist is an entity which model is one of the following : w_c4, w_backpack.
BOT - I understand. What's to plant ?
USER - To plant is to fire the bomb at an entity which classname is func_bomb_target.
BOT - I understand. What's to defuse ?
USER - To defuse is to use the bomb.
BOT - I understand.
(now the bot knows enough for playing CS !!)
USER - I stop teaching you.
(keywords : teach, stop)
BOT - OK.
(a few seconds later)
BOT - I've got the bomb ! Protect me while I'm planting it !
(goes for planting the bomb)


Would be awesome, eh ????? ;D

[modified on 09/04/02 at 13:31:37]
--------------------------------------------------
09/04/02 at 14:05:31  Reply by: theimann (killaruna@nuclearbox.com)
--------------------------------------------------
I've once read a very interesting anecdote by Joseph Weizenbaum where he tells the story of a PhD student that wanted to implement a similar system. Weizenbaum regarded the task as one of the most difficult ones in the field of AI...
(From the book "Wer erfindet die Computermythen?" - unfortunately only available in german AFAIK)
I doubt that this feature appears in any bot in the next 10 years. Would be awesome though 8)

--------------------------------------------------
09/04/02 at 18:56:18  Reply by: chrstian_garcia (chrstian_g@yahoo.com)
--------------------------------------------------
aight guys well i've been playing cs for a long time but like 2days ago some dude activated this monsters and i was like SHIT ZOMBIES, so it was kool and he gave me the website, i just downloaded this monster thing and the meta mod. cause i dont have admin mod, but I am not raelly smart and i need help, i need some one to help me,BIG TIME.PLEASE i need some one to help me i need to know like EVERTHING about installing things cause im not smart, and when i see the read me file or the how to install, then thats when my brain stops, please some one with the heart help me i have yahoo messenger my name is christian_raul2002 and my e-mail is chrstian_g@yahoo.com not christian but chrstian, and i have the hotmail messenger but its my bros.but i can use it. well i hope some one reads this, oh and one more thing, like if im not admin of the server can i STILL use this mod.? thank you for your time. 


--------------------------------------------------
09/05/02 at 03:40:58  Reply by: Cheesemonster!!! (paul.murphy@ntlworld.com)
--------------------------------------------------
;D I think you should have made a new post yourself in the metamod forum instead of replying to an irrelavant thread!

--------------------------------------------------
09/05/02 at 14:35:54  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
QUOTE:
I doubt that this feature appears in any bot in the next 10 years. Would be awesome though 8)



You bet ? I'm gonna work my ass off on it as early as right now (well, as soon as I've finished my sensing template). Who wants to help ?

I don't think it would be a good idea to directly translate SHRDLU from LISP to C. It would be very hard since LISP is an interpreted language has the ability to modify its script on the fly at run time, and foremost Terry Winograd wrote SHRDLU in a heterarchical manner, kinda like independent modules working in parallel, each one being able to call each other without any sort of hierarchy. And furthermore, we don't need a very precise grammar and parser. A basic ELIZA-level keywords parser would be sufficient for parsing the player's inputs. Then, the same ELIZA (or MegaHAL, but it would be harder to give sense 100% of time to the sentence it generates) could be used for formatting the bot's output. The bots just need to know the rules of the games, and if you think about it, it's very simple, it's just about how objects named entities, which have certain properties, interact upon each other. With a minimal semantic dictionary, which semantics coupled with a dictionary of methods, and all we have to do is a hierarchical parsing of the definitions (substitution of definitions to terms), and adding new definitions on the fly, for the bot to get an <b>UNDERSTANDING</b> of the world. It's not easy, but it's not impossible at all.

Ready for setting the standard of the next generation of game AI, guys ?


--------------------------------------------------
09/06/02 at 00:38:20  Reply by: Demiurg (xepec@ihug.com.au)
--------------------------------------------------
Have a look at Alice and AIML. I think they have a C implementation as well. Doesn't take too much CPU. http://www.alicebot.org/

--------------------------------------------------
09/06/02 at 13:43:12  Reply by: theimann (killaruna@nuclearbox.com)
--------------------------------------------------
QUOTE:
It's not easy, but it's not impossible at all.


Maybe. It's just that it seems such an enormous amount of work... In the time you need for mplementing this feature you could probably develop an excellent auto-waypointing, tactical combat navigation and who knows what else. It's all a matter of setting priorities. If you want to go for the teaching with natural language - go ahead! I'm curious to see the results.

Tobias

--------------------------------------------------
09/06/02 at 14:19:14  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
QUOTE:
Maybe. It's just that it seems such an enormous amount of work... In the time you need for mplementing this feature you could probably develop an excellent auto-waypointing, tactical combat navigation and who knows what else. It's all a matter of setting priorities. If you want to go for the teaching with natural language - go ahead! I'm curious to see the results.




Actually, the point I find particularily interesting is the <b>cognitive</b> dimension. In my point of view, the natural language parser should just be a handy interface to the cognitive system. What strikes me most here is that I realize we have the ability to make our bots <b>understand</b> their world. Before, bots were programmed like automatons, to perform scheduled tasks according to certain priorities depending on the current state of the world. We have the ability to make them <b>intuit</b> these rules instead. The bots can deduce their own ways. THIS, is what we call intelligence. Aren't we about to create a new life form, or what ?

Currently the state of my work is : for every frame, the bots' thinking cycle is 1°) sense, 2°) decide what to do now, 3°) act. The sensing is almost done [btw, would you mind explaining me again how you did the simulation of footsteps according to the materials.txt file in Parabot ?] I haven't done much, if anything, in the actual thinking part. However, the acting part is 100% terminated, and the bots are now able to move as flawlessly as humans (great, your idea of momentum for aiming, btw.)

Once I'll have finished the sight and hearing interface, it'll be time to develop a good tactical waypointless navigation. I have my own ideas for a pathfinder, that could just use any of the known algorithms such as A* or Floyd. Except that it's not based on checking the LOS between two waypoints, but checking if two convex walkable polygons have one edge in common (actually if any of the edges of the first polygon is in the vertical plane defined by any of the edges of the second one), at least in a +/- 48 vertical units of tolerance. You see, it's not difficult at all and it should be faster than your waypointed pathfinding methods.

And ONCE the bot will be able to 1°) join the game and 2°) wander "tactically" in the level, it will be time for it to LEARN ABOUT IT.
i.e, learn about the entities. Which ones ?
-players : teammates, enemies
-weapons : usage
-items : usage
-monsters
-crates
-etc.
and to know the SEMANTIC MEANING of these. Which can act upon which one, what can be do with them, etc. and THEN, the bot will be able to intuit the rules of the games and develop its own thinking. It will be able to plan its own goals, its own priorities, its own tactics.

Isn't that not exciting enough for you or what ???

Where are the gurus when we need them ? Jeffrey ? Markus ? Tell us what you think !!! :D

[modified on 09/06/02 at 14:12:05]

[modified on 09/06/02 at 14:19:14]
--------------------------------------------------
09/15/02 at 20:41:21  Reply by: zenureo (startux@hotmail.com)
--------------------------------------------------
I had read some tab news on these things before. It says the USAF had already managed to create cognitive A.I. that "thinks" and "adapts" to environment feedback. In testing, these highly trained A.I. always make more correct/smarter tactical decisions than veteran special forces officers in a convert ops settings whereby both human and A.I are fed exactly the same amount of info. They are touchy on building a machine that runs these pulse networked A.I as it is effectively giving it a body and it may turn on them instead if not controlled properly...
But then again, these tabs also talks about UFOs and Britney Spears giving birth, so u have to be choosy on what you want to believe :)

--------------------------------------------------
09/16/02 at 12:25:29  Reply by: PM (pm@racc-ai.com)
--------------------------------------------------
QUOTE:
But then again, these tabs also talks about UFOs and Britney Spears giving birth, so u have to be choosy on what you want to believe :)




rotfl, thanks for the minute of humour zenureo ;D


--------------------------------------------------
09/18/02 at 13:50:36  Reply by: theimann (killaruna@nuclearbox.com)
--------------------------------------------------
Yeah, the last line was the best one ;-)
Pierre, I thought a bit more about the understanding language question: If you are really serious about that, you should have a look at the Lex/Yacc scanner and parser, because you won't be able to use Eliza-style keywords for analyzing input. Eliza was never meant to understand what it was talking about, that's why you'll need a different approach for your project. The best thing that comes to my mind is Lex/Yacc, which will help you a lot, but still: it remains an enormous amount of work.
Concerning bots intuiting and developing its own thinking: If you reach that level I guess it's time to go to NASA and sell them the whole damn thing - they would be very interested ;-)

Tobias

